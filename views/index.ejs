<%- include('partials/header') %>

<h2 class="text-center mb-4">Employee List</h2>

<% if (msg) { %>
  <div class="alert alert-success alert-dismissible fade show" role="alert">
    <% if (msg === 'added') { %>
      ‚úÖ Employee added successfully!
    <% } else if (msg === 'updated') { %>
      üîÅ Employee updated successfully!
    <% } else if (msg === 'deleted') { %>
      ‚ùå Employee deleted successfully!
    <% } %>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
<% } %>

<table class="table table-striped table-bordered shadow-sm">
  <thead class="table-dark">
    <tr>
      <th>Name</th>
      <th>Designation</th>
      <th>Location</th>
      <th>Salary</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% employees.forEach(emp => { %>
      <tr>
        <td><%= emp.name %></td>
        <td><%= emp.designation %></td>
        <td><%= emp.location %></td>
        <td>
          ‚Çπ
          <%= (emp.salary != null && !isNaN(emp.salary))
            ? Number(emp.salary).toLocaleString('en-IN', { minimumFractionDigits: 2 })
            : 'N/A' %>
        </td>
        <td>
          <a href="/edit/<%= emp.id %>" class="btn btn-sm btn-warning">Update</a>
          <a href="/delete/<%= emp.id %>" class="btn btn-sm btn-danger">Delete</a>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>

<%- include('partials/footer') %>
